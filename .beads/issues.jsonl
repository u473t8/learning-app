{"id":"learning-app-15h","title":"[READY][CODE] Implement trial-based lesson logic","description":"## What\nUpdate lesson.cljs to implement random trial selection and pass/fail tracking.\n\n## Functions to Update/Add\n\n### start-lesson!\n- Get 3 words with lowest retention (existing)\n- Generate trials array: for each word add :word trial, if has example add :example trial\n- Set remaining-trials = trials\n- Select first random trial as current-trial\n- Return lesson doc\n\n### select-random-trial! (new)\n- Pick random trial from remaining-trials\n- Update current-trial in lesson doc\n- Save to db\n- Return updated lesson\n\n### check-answer!\nUpdates needed:\n- Get correct answer from current trial (word.value or word.example.value)\n- Compare with user answer\n- Create review document via vocabulary/add-review\n- If correct:\n  - Remove current trial from remaining-trials\n  - If trial was example type AND online: fetch new example, delete old, update word in lesson\n- Set last-result {:correct? :correct-answer}\n- Save lesson\n- Return {:correct? :correct-answer :is-finished? (empty? remaining-trials)}\n\n### advance-lesson! (update)\n- If remaining-trials empty: return nil (finished)\n- Otherwise: select-random-trial!, clear last-result\n- Return updated lesson\n\n### get-current-word (new helper)\n- Given lesson and current-trial, return the word object\n\n### correct-answer (update)\n- Take current-trial instead of word\n- Return word.value if type=:word, word.example.value if type=:example\n\n## Acceptance Criteria\n- [ ] Random trial selection works\n- [ ] Failed trials remain in remaining-trials\n- [ ] Passed trials removed from remaining-trials\n- [ ] Example refresh on successful example trial\n- [ ] Lesson finishes when remaining-trials empty\n- [ ] REPL tested","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T08:30:57.191470883+01:00","created_by":"u473t8","updated_at":"2026-01-10T09:43:11.736374022+01:00","closed_at":"2026-01-10T09:43:11.736374022+01:00","close_reason":"Implemented trial-based lesson logic: start-lesson! creates trials from words+examples, check-answer! removes passed trials from remaining, refreshes example on success, advance-lesson! picks random from remaining. All functions tested, build compiles with 0 warnings.","dependencies":[{"issue_id":"learning-app-15h","depends_on_id":"learning-app-jet","type":"blocks","created_at":"2026-01-10T08:42:14.657934162+01:00","created_by":"u473t8"},{"issue_id":"learning-app-15h","depends_on_id":"learning-app-g4q","type":"blocks","created_at":"2026-01-10T08:42:14.805563347+01:00","created_by":"u473t8"}]}
{"id":"learning-app-4wm","title":"Create examples.cljs client module","description":"New module with fetch-example (HTTP GET), sync-examples! (orchestrator), and online/offline detection","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T11:35:19.648629589+01:00","created_by":"u473t8","updated_at":"2026-01-09T12:40:55.051354296+01:00","closed_at":"2026-01-09T12:40:55.051354296+01:00","close_reason":"Implemented examples.cljs with parallel fetching (5 concurrent), network-only retries (2 attempts, 1s delay), and graceful degradation","dependencies":[{"issue_id":"learning-app-4wm","depends_on_id":"learning-app-6ld","type":"blocks","created_at":"2026-01-09T11:35:48.635956466+01:00","created_by":"u473t8"},{"issue_id":"learning-app-4wm","depends_on_id":"learning-app-73d","type":"blocks","created_at":"2026-01-09T11:35:48.760117989+01:00","created_by":"u473t8"}]}
{"id":"learning-app-671","title":"PWA Migration","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-09T11:33:42.22310497+01:00","created_by":"u473t8","updated_at":"2026-01-09T16:31:25.480735802+01:00","closed_at":"2026-01-09T16:31:25.480735802+01:00","close_reason":"PWA Migration complete: example sentence generation implemented with parallel fetching, graceful offline handling, and automatic sync on online events.","dependencies":[{"issue_id":"learning-app-671","depends_on_id":"learning-app-p3t","type":"blocks","created_at":"2026-01-09T11:37:13.600868246+01:00","created_by":"u473t8"}]}
{"id":"learning-app-6ld","title":"Add GET /api/examples backend endpoint","description":"Add endpoint that accepts ?word=\u003cgerman-word\u003e and returns example object from OpenAI via existing generate-one! function","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T11:35:18.997994008+01:00","created_by":"u473t8","updated_at":"2026-01-09T11:42:35.682699651+01:00","closed_at":"2026-01-09T11:42:35.682699651+01:00","close_reason":"Added /api/examples GET endpoint to core.clj"}
{"id":"learning-app-73d","title":"Add example storage functions to vocabulary.cljs","description":"Add words-without-examples, save-example, get-example functions to work with example documents in PouchDB","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T11:35:19.32462936+01:00","created_by":"u473t8","updated_at":"2026-01-09T11:45:25.366149478+01:00","closed_at":"2026-01-09T11:45:25.366149478+01:00","close_reason":"Added example storage functions and service worker API routing"}
{"id":"learning-app-94y","title":"Add network-only routing for /api/* in service worker","description":"Modify sw.cljs to route /api/* requests directly to network without caching","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T11:35:19.974105048+01:00","created_by":"u473t8","updated_at":"2026-01-09T11:45:25.3740016+01:00","closed_at":"2026-01-09T11:45:25.3740016+01:00","close_reason":"Added example storage functions and service worker API routing"}
{"id":"learning-app-anu","title":"[READY][UI] Update lesson UI for trial-based system","description":"## What\nUpdate lesson UI components in application.cljs to work with new trial-based data model.\n\n## Components to Update\n\n### lesson-challenge\nCurrent:\n```clojure\n(defn- lesson-challenge [{:keys [word example]}]\n  (if example\n    [:div ... 'Переведите предложение на немецкий']\n    [:div ... 'Переведите слово на немецкий']))\n```\n\nNew signature:\n```clojure\n(defn- lesson-challenge [{:keys [word trial-type]}]\n  ;; trial-type is :word or :example\n  ;; If :word - show word.translation, prompt 'Переведите слово'\n  ;; If :example - show word.example.translation, prompt 'Переведите предложение')\n```\n\n### lesson-page\nUpdate to use new lesson structure:\n- Get current-trial from lesson\n- Find word by current-trial.word-id\n- Calculate progress: (- total remaining) / total * 100\n- Pass trial-type to lesson-challenge\n\n### Progress calculation\nCurrent: current-index / word-count\nNew: (count trials - count remaining-trials) / (count trials) * 100\n\n### lesson-success / lesson-error\n- is-last? becomes is-finished? (check if remaining-trials will be empty)\n\n## Acceptance Criteria\n- [ ] Word trials show 'Переведите слово на немецкий'\n- [ ] Example trials show 'Переведите предложение на немецкий'\n- [ ] Progress bar shows % of completed trials\n- [ ] 'ЗАКОНЧИТЬ' button when all trials passed\n- [ ] Works with varying trial counts (e.g., 5 trials if one word has no example)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T08:31:10.823147856+01:00","created_by":"u473t8","updated_at":"2026-01-10T16:29:38.498188929+01:00","closed_at":"2026-01-10T16:29:38.498188929+01:00","close_reason":"Updated UI for trial-based system: lesson-challenge with example-trial? helper, progress from trials count, hybrid partial HTML (PATCH check returns footer only), trial type constants as strings for PouchDB. Fixed example rotation to be fire-and-forget.","dependencies":[{"issue_id":"learning-app-anu","depends_on_id":"learning-app-jet","type":"blocks","created_at":"2026-01-10T08:42:14.730055517+01:00","created_by":"u473t8"},{"issue_id":"learning-app-anu","depends_on_id":"learning-app-15h","type":"blocks","created_at":"2026-01-10T08:42:14.900390792+01:00","created_by":"u473t8"}]}
{"id":"learning-app-cse","title":"Wire up example sync on app startup and online events","description":"Trigger sync-examples! when app initializes online and when browser comes online","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T11:35:20.330058511+01:00","created_by":"u473t8","updated_at":"2026-01-09T16:29:30.73421187+01:00","closed_at":"2026-01-09T16:29:30.73421187+01:00","close_reason":"Wired up sync-examples! on activate and online events. Removed retries - rely on online events for retry at higher level.","dependencies":[{"issue_id":"learning-app-cse","depends_on_id":"learning-app-4wm","type":"blocks","created_at":"2026-01-09T11:35:48.888555709+01:00","created_by":"u473t8"}]}
{"id":"learning-app-dtm","title":"Create lesson page UI with challenge display","description":"Replace placeholder /lesson route with actual lesson UI showing word/example challenges","notes":"Reviewed lesson UI in src/client/application.cljs. Lesson page, challenge display, input, success/error footer, and /lesson routes are implemented and wired to HTMX; no placeholder remains.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T17:01:32.363688492+01:00","created_by":"u473t8","updated_at":"2026-01-09T18:31:11.621572011+01:00","closed_at":"2026-01-09T18:31:11.621572011+01:00","close_reason":"Lesson UI already implemented; placeholder replaced with full lesson flow UI.","dependencies":[{"issue_id":"learning-app-dtm","depends_on_id":"learning-app-ebd","type":"blocks","created_at":"2026-01-09T17:01:45.049782232+01:00","created_by":"u473t8"}]}
{"id":"learning-app-ebd","title":"Restore lesson functionality for PWA","description":"Implement word learning lesson flow: select 3 words with examples, user translates word/example, create review docs, refresh examples on success, show Finish on completion","notes":"Updated /lesson/finish to fetch actual word count via vocabulary/words-count before rendering home.","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-09T17:01:13.334733383+01:00","created_by":"u473t8","updated_at":"2026-01-09T18:34:16.685018006+01:00","closed_at":"2026-01-09T18:34:16.685018006+01:00","close_reason":"Lesson flow UI and routes already implemented; fixed /lesson/finish to render home with correct word count."}
{"id":"learning-app-fil","title":"Fetch example when user adds new word","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T16:44:00.965984556+01:00","created_by":"u473t8","updated_at":"2026-01-09T16:48:58.009203186+01:00","closed_at":"2026-01-09T16:48:58.009203186+01:00","close_reason":"Added async example fetch in add-word-interceptor (fire-and-forget)"}
{"id":"learning-app-g4q","title":"[READY][CODE] Refactor lesson data model for trial-based system","description":"## What\nUpdate the lesson document structure to support trial-based learning with random selection.\n\n## Current Structure (docs/data-model.md)\n```clojure\n{:_id 'lesson'\n :type 'lesson'\n :current-index 0           ;; sequential index\n :last-correct? nil\n :started-at '\u003cISO\u003e'\n :words [{:id :value :translation :retention-level :example}]}\n```\n\n## New Structure\n```clojure\n{:_id 'lesson'\n :type 'lesson'\n :started-at '\u003cISO\u003e'\n :words [{:id :value :translation :retention-level :example}]  ;; reference data\n :trials [{:word-id '\u003cid\u003e' :type :word} {:word-id '\u003cid\u003e' :type :example}...]  ;; all trials\n :remaining-trials [{:word-id '\u003cid\u003e' :type :word}...]  ;; unpassed trials\n :current-trial {:word-id '\u003cid\u003e' :type :word}  ;; or nil\n :last-result {:correct? bool :correct-answer '\u003ctext\u003e'}}  ;; or nil\n```\n\n## Trial Generation Logic\nFor each word in words:\n1. Always add {:word-id id :type :word}\n2. If word has :example, also add {:word-id id :type :example}\n\n## Implementation\n- Update docs/data-model.md with new structure\n- Update lesson-doc function in lesson.cljs\n- Trials should be generated at lesson start\n\n## Acceptance Criteria\n- [ ] docs/data-model.md updated\n- [ ] lesson-doc creates correct structure\n- [ ] Trials include both word and example (when available)\n- [ ] remaining-trials starts as copy of all trials","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T08:30:44.669136801+01:00","created_by":"u473t8","updated_at":"2026-01-10T09:38:50.423336457+01:00","closed_at":"2026-01-10T09:38:50.423336457+01:00","close_reason":"Updated docs/data-model.md with trial-based lesson structure. Updated lesson.cljs with generate-trials, remove-trial, find-word helpers and new lesson-doc structure. Build compiles with 0 warnings.","dependencies":[{"issue_id":"learning-app-g4q","depends_on_id":"learning-app-jet","type":"blocks","created_at":"2026-01-10T08:42:14.577508106+01:00","created_by":"u473t8"}]}
{"id":"learning-app-ixq","title":"[EPIC] UI/UX focus, keyboard flow, and layout fixes","description":"## Goal\nFix focus behavior, keyboard flows, async example creation, and layout quirks across home, words list, and lesson screens.\n\n## Why\nThese issues slow entry, reduce accessibility, and cause confusing layout on different viewports.\n\n## Success Criteria\n- Focus/keyboard behavior matches requested flow on home and lesson screens\n- Example creation does not block word creation\n- Lesson/words UI layout and empty states align with expectations\n- Logo placement consistent on mobile and desktop","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-10T20:26:27.482271585+01:00","created_by":"u473t8","updated_at":"2026-01-10T20:26:27.482271585+01:00"}
{"id":"learning-app-ixq.2","title":"[IN-PROGRESS][UI] Layout tweaks for home, words list, and lesson screens","description":"## What\nAdjust layout and placement for lesson button, empty states, and logo to match UX expectations across viewport sizes.\n\n## Requirements\n- Lesson screen: action button sits directly below the answer input\n- Empty lesson state: add-words CTA centered (match empty words list layout)\n- Words list: hide start-lesson button when list is empty\n- Words list: start-lesson button not full width on wide screens; allow full width on mobile\n- Logo: Sprecha logo pinned to top-left of viewport on mobile and desktop\n\n## Acceptance Criteria\n- [ ] Lesson action button renders below the answer input\n- [ ] Empty lesson screen CTA centered\n- [ ] No start-lesson button when words list is empty\n- [ ] Start-lesson button uses constrained width on wide screens, full width on mobile\n- [ ] Logo remains top-left across viewport sizes","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-10T20:27:07.871060125+01:00","created_by":"u473t8","updated_at":"2026-01-10T20:35:40.001214027+01:00","dependencies":[{"issue_id":"learning-app-ixq.2","depends_on_id":"learning-app-ixq","type":"parent-child","created_at":"2026-01-10T20:27:07.874742412+01:00","created_by":"u473t8"}]}
{"id":"learning-app-ixq.3","title":"[IN-PROGRESS][CODE] Focus flows, keyboard actions, and async example creation","description":"## What\nImplement focus management and keyboard behavior for home and lesson flows, and make example creation non-blocking.\n\n## Requirements\n- Home: on page load, focus German word input\n- Home: TAB or ENTER in German input moves focus to translation input\n- TAB behavior remains default (include shift+tab), add handler only for ENTER and normal focus flow\n- Home: ENTER in translation input triggers word creation\n- Add-word flow: fire example creation request only after word creation succeeds; do not block word creation handler on example request\n- Lesson start: focus answer input on load\n- Lesson: submit answer with Ctrl+Enter\n- Lesson: after submit, focus NEXT or FINISH button only after it appears\n\n## Acceptance Criteria\n- [ ] Initial focus set to German word input on home load\n- [ ] TAB behavior unchanged; ENTER in German input moves focus to translation input\n- [ ] ENTER in translation input submits new word\n- [ ] Example creation fires after successful word creation and does not block handler\n- [ ] Lesson answer input focused on start\n- [ ] Ctrl+Enter submits lesson answer\n- [ ] Focus lands on NEXT/FINISH after those buttons appear","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-10T20:27:15.764952043+01:00","created_by":"u473t8","updated_at":"2026-01-10T20:35:41.140471392+01:00","dependencies":[{"issue_id":"learning-app-ixq.3","depends_on_id":"learning-app-ixq","type":"parent-child","created_at":"2026-01-10T20:27:15.76731216+01:00","created_by":"u473t8"}]}
{"id":"learning-app-jet","title":"[EPIC] Restore lesson flow with trial-based system","description":"## Goal\nRestore vocabulary lesson functionality with a proper trial-based system where words and examples are separate challenges, plus updated lesson route behavior.\n\n## Why\nCurrent implementation has sequential word-based flow and inconsistent route behaviors. Need random trial selection from unpassed trials and correct GET/PATCH semantics.\n\n## Success Criteria\n- Lesson starts with 3 words + their examples (if available) = up to 6 trials\n- Random trial selection from unpassed trials\n- Word trials show 'Переведите слово', example trials show 'Переведите предложение'\n- Failed trials stay in unpassed pool and can appear again\n- Passed trials removed from pool\n- On example success: fetch new example, delete old\n- Progress bar shows % of passed trials and fills to 100% when all passed\n- 'Закончить' button when all trials passed\n- GET lesson route starts a lesson if it hasn't started yet\n- If lesson not started and has no words, page shows 'Добавить слова' button\n- PATCH lesson route returns only HTML fragments\n- POST lesson route is removed or unused (confirm removal)\n\n## Tasks\n- [CODE] Refactor lesson data model for trial-based system\n- [CODE] Update lesson.cljs with new trial logic\n- [UI] Update lesson UI for word vs example display\n- [CODE] Update lesson routes (GET/PATCH/POST behavior)\n- [UI] Update lesson UI for empty lesson action + progress bar state","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-10T08:30:29.966896299+01:00","created_by":"u473t8","updated_at":"2026-01-10T19:07:20.156541386+01:00","closed_at":"2026-01-10T19:07:20.156541386+01:00","close_reason":"All planned tasks completed: trial-based lesson data model, lesson logic, updated UI, route behavior, empty state, progress behavior."}
{"id":"learning-app-jet.2","title":"[IN-PROGRESS][CODE] Update lesson routes behavior","description":"## What\nAlign lesson GET/PATCH/POST routes with the updated trial-based flow and UI needs.\n\n## Requirements\n- GET lesson route: if lesson not started, start it automatically\n- If lesson not started and there are no words, respond with view that shows 'Добавить слова' action\n- PATCH lesson route returns HTML fragments only (no full layout)\n- POST lesson route removed or left unused (confirm whether to delete or keep no-op)\n- Progress calculation feeds UI so 100% when all trials passed\n- Confirm exact route paths/handlers and response shape used by frontend\n\n## Acceptance Criteria\n- [ ] GET route starts lesson when needed\n- [ ] Empty lesson state is correctly handled\n- [ ] PATCH route returns fragments only\n- [ ] POST route disposition agreed and reflected in code\n- [ ] Progress reaches 100% when complete","notes":"Clarified by user: show 'Добавить слова' only when zero words; if words exist, GET should start lesson. POST route should be removed. PATCH returns fragments for: footer (успех/ошибка/правильный ответ), new trials, progress bar, and button (проверить/дальше/закончить).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T17:08:40.281990854+01:00","created_by":"u473t8","updated_at":"2026-01-10T17:38:21.921047626+01:00","closed_at":"2026-01-10T17:38:21.921047626+01:00","close_reason":"Updated /lesson GET/PATCH behavior, removed POST, added fragment-only PATCH updates (footer/challenge/progress), and handled empty state + progress updates.","dependencies":[{"issue_id":"learning-app-jet.2","depends_on_id":"learning-app-jet","type":"parent-child","created_at":"2026-01-10T17:08:40.283909111+01:00","created_by":"u473t8"}]}
{"id":"learning-app-jet.3","title":"[IN-PROGRESS][UI] Empty lesson state + progress completion","description":"## What\nUpdate lesson UI to handle empty lesson action and ensure progress bar reaches 100% on completion.\n\n## Requirements\n- Show 'Добавить слова' button when lesson not started and has no words\n- Progress bar visually fills to 100% when all trials are passed\n- Align with updated GET/PATCH route responses and fragment-only updates\n- Confirm where the empty state appears (full page vs fragment)\n\n## Acceptance Criteria\n- [ ] Empty lesson state shows the correct action\n- [ ] Progress bar reaches 100% at completion\n- [ ] UI works with fragment responses","notes":"Moved home__footer-actions inside home__panel--add so Start Lesson button aligns with panel (matches CSS .home__panel--add .home__footer-actions). App HTML in browser still shows old structure, likely SW/cache or backend reload needed to verify.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-10T17:08:54.458310598+01:00","created_by":"u473t8","updated_at":"2026-01-10T19:05:54.885867594+01:00","closed_at":"2026-01-10T19:05:54.885867594+01:00","close_reason":"UI empty state and progress completion verified; lesson flow interactions reviewed. Layout shift investigation reverted; no design change kept.","dependencies":[{"issue_id":"learning-app-jet.3","depends_on_id":"learning-app-jet","type":"parent-child","created_at":"2026-01-10T17:08:54.459895341+01:00","created_by":"u473t8"}]}
{"id":"learning-app-p3t","title":"Implement example sentence generation","description":"When online, fetch example sentences from backend (OpenAI) for vocabulary words and store in PouchDB. Handle offline gracefully by detecting online state and syncing missing examples sequentially.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-09T11:34:04.961492606+01:00","created_by":"u473t8","updated_at":"2026-01-09T16:30:46.463709906+01:00","closed_at":"2026-01-09T16:30:46.463709906+01:00","close_reason":"All subtasks completed: client module, backend endpoint, storage functions, API routing, and event wiring are all implemented.","dependencies":[{"issue_id":"learning-app-p3t","depends_on_id":"learning-app-6ld","type":"blocks","created_at":"2026-01-09T11:37:12.988439084+01:00","created_by":"u473t8"},{"issue_id":"learning-app-p3t","depends_on_id":"learning-app-73d","type":"blocks","created_at":"2026-01-09T11:37:13.114405476+01:00","created_by":"u473t8"},{"issue_id":"learning-app-p3t","depends_on_id":"learning-app-4wm","type":"blocks","created_at":"2026-01-09T11:37:13.236624357+01:00","created_by":"u473t8"},{"issue_id":"learning-app-p3t","depends_on_id":"learning-app-94y","type":"blocks","created_at":"2026-01-09T11:37:13.35484641+01:00","created_by":"u473t8"},{"issue_id":"learning-app-p3t","depends_on_id":"learning-app-cse","type":"blocks","created_at":"2026-01-09T11:37:13.474853567+01:00","created_by":"u473t8"}]}
{"id":"learning-app-t3y","title":"[READY][CODE] Fix empty state when last word deleted from /words page","description":"## What\nWhen user deletes the last word from /words page, the empty state shows correctly inside #word-list, but the search form and 'Начать урок' button remain visible. They should be hidden when there are no words.\n\n## Current Behavior\n1. Delete handler returns status 200\n2. hx-swap='delete' removes the \u003cli\u003e item\n3. Custom event 'words-changed' triggers refetch targeting #word-list\n4. Empty state renders inside \u003cul\u003e, but surrounding structure (search, footer) persists\n\n## Root Cause\nThe words-page is a static def that always includes search form and footer. Only #word-list content is updated on deletion.\n\n## Proposed Solution\nUse HX-Retarget header approach:\n1. Modify delete-word-interceptor to return word count after deletion\n2. Create words-page-empty variant without search/footer (or with hidden/disabled state)\n3. Modify DELETE /words handler: if word count becomes 0, return HX-Retarget/#app header with full empty page\n\n## Implementation Steps\n1. Add word count check to delete-word-interceptor\n2. Create words-page-empty function (empty state with CTA to add words)\n3. Update DELETE handler to detect last-word case and use HX-Retarget\n4. Remove custom event JavaScript (htmx.trigger for words-changed) from delete button\n\n## Acceptance Criteria\n- [ ] Deleting last word shows proper empty state (no search, no lesson button)\n- [ ] Empty state has CTA to go to home and add words\n- [ ] No custom JavaScript events needed for this flow\n- [ ] Normal deletion (not last word) still works with hx-swap=delete","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-11T00:11:11.427517529+01:00","created_by":"u473t8","updated_at":"2026-01-11T00:24:13.137625871+01:00","closed_at":"2026-01-11T00:24:13.137625871+01:00","close_reason":"Implemented HX-Retarget approach: delete-word-interceptor now returns word count, added words-page-empty variant, DELETE handler uses HX-Retarget when last word deleted, removed custom JS event from delete button. Compiles with 0 warnings."}
